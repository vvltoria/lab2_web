<div class="container mt-4" *ngIf="book$ | async as book; else loading">
  <div class="card">
    <div class="card-header">
      <h3>{{ book.title }}</h3>
    </div>
    <div class="card-body">
      <h5 class="card-title">Автор: {{ book.author?.lastName }} {{ book.author?.firstName }}</h5>
      <p class="card-text"><strong>Жанр:</strong> {{ book.genre }}</p>
      <p class="card-text" *ngIf="book.publicationYear"><strong>Год издания:</strong> {{ book.publicationYear }}</p>
      <p class="card-text" *ngIf="book.isbn"><strong>ISBN:</strong> {{ book.isbn }}</p>
      
      <div class="mt-3">
        <a [routerLink]="['/book-edit', book.id]" class="btn btn-warning me-2">Редактировать</a>
        <button (click)="deleteBook()" class="btn btn-danger">Удалить</button>
        <a routerLink="/books" class="btn btn-secondary ms-2">Назад к списку</a>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="container mt-4">
    <p>Загрузка данных...</p>
  </div>
</ng-template>